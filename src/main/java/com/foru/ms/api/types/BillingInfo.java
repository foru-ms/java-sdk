/**
 * This file was auto-generated by Fern from our API Definition.
 */
package com.foru.ms.api.types;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonAnySetter;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;
import com.fasterxml.jackson.annotation.JsonInclude;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.annotation.JsonSetter;
import com.fasterxml.jackson.annotation.Nulls;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.foru.ms.api.core.ObjectMappers;
import java.time.OffsetDateTime;
import java.util.HashMap;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import org.jetbrains.annotations.NotNull;

@JsonInclude(JsonInclude.Include.NON_ABSENT)
@JsonDeserialize(builder = BillingInfo.Builder.class)
public final class BillingInfo {
    private final String instanceId;

    private final String handle;

    private final BillingInfoPlan plan;

    private final String status;

    private final Optional<OffsetDateTime> currentPeriodEnd;

    private final boolean cancelAtPeriodEnd;

    private final Map<String, Object> additionalProperties;

    private BillingInfo(
            String instanceId,
            String handle,
            BillingInfoPlan plan,
            String status,
            Optional<OffsetDateTime> currentPeriodEnd,
            boolean cancelAtPeriodEnd,
            Map<String, Object> additionalProperties) {
        this.instanceId = instanceId;
        this.handle = handle;
        this.plan = plan;
        this.status = status;
        this.currentPeriodEnd = currentPeriodEnd;
        this.cancelAtPeriodEnd = cancelAtPeriodEnd;
        this.additionalProperties = additionalProperties;
    }

    @JsonProperty("instanceId")
    public String getInstanceId() {
        return instanceId;
    }

    @JsonProperty("handle")
    public String getHandle() {
        return handle;
    }

    @JsonProperty("plan")
    public BillingInfoPlan getPlan() {
        return plan;
    }

    @JsonProperty("status")
    public String getStatus() {
        return status;
    }

    @JsonProperty("currentPeriodEnd")
    public Optional<OffsetDateTime> getCurrentPeriodEnd() {
        return currentPeriodEnd;
    }

    @JsonProperty("cancelAtPeriodEnd")
    public boolean getCancelAtPeriodEnd() {
        return cancelAtPeriodEnd;
    }

    @java.lang.Override
    public boolean equals(Object other) {
        if (this == other) return true;
        return other instanceof BillingInfo && equalTo((BillingInfo) other);
    }

    @JsonAnyGetter
    public Map<String, Object> getAdditionalProperties() {
        return this.additionalProperties;
    }

    private boolean equalTo(BillingInfo other) {
        return instanceId.equals(other.instanceId)
                && handle.equals(other.handle)
                && plan.equals(other.plan)
                && status.equals(other.status)
                && currentPeriodEnd.equals(other.currentPeriodEnd)
                && cancelAtPeriodEnd == other.cancelAtPeriodEnd;
    }

    @java.lang.Override
    public int hashCode() {
        return Objects.hash(
                this.instanceId, this.handle, this.plan, this.status, this.currentPeriodEnd, this.cancelAtPeriodEnd);
    }

    @java.lang.Override
    public String toString() {
        return ObjectMappers.stringify(this);
    }

    public static InstanceIdStage builder() {
        return new Builder();
    }

    public interface InstanceIdStage {
        HandleStage instanceId(@NotNull String instanceId);

        Builder from(BillingInfo other);
    }

    public interface HandleStage {
        PlanStage handle(@NotNull String handle);
    }

    public interface PlanStage {
        StatusStage plan(@NotNull BillingInfoPlan plan);
    }

    public interface StatusStage {
        CancelAtPeriodEndStage status(@NotNull String status);
    }

    public interface CancelAtPeriodEndStage {
        _FinalStage cancelAtPeriodEnd(boolean cancelAtPeriodEnd);
    }

    public interface _FinalStage {
        BillingInfo build();

        _FinalStage currentPeriodEnd(Optional<OffsetDateTime> currentPeriodEnd);

        _FinalStage currentPeriodEnd(OffsetDateTime currentPeriodEnd);
    }

    @JsonIgnoreProperties(ignoreUnknown = true)
    public static final class Builder
            implements InstanceIdStage, HandleStage, PlanStage, StatusStage, CancelAtPeriodEndStage, _FinalStage {
        private String instanceId;

        private String handle;

        private BillingInfoPlan plan;

        private String status;

        private boolean cancelAtPeriodEnd;

        private Optional<OffsetDateTime> currentPeriodEnd = Optional.empty();

        @JsonAnySetter
        private Map<String, Object> additionalProperties = new HashMap<>();

        private Builder() {}

        @java.lang.Override
        public Builder from(BillingInfo other) {
            instanceId(other.getInstanceId());
            handle(other.getHandle());
            plan(other.getPlan());
            status(other.getStatus());
            currentPeriodEnd(other.getCurrentPeriodEnd());
            cancelAtPeriodEnd(other.getCancelAtPeriodEnd());
            return this;
        }

        @java.lang.Override
        @JsonSetter("instanceId")
        public HandleStage instanceId(@NotNull String instanceId) {
            this.instanceId = Objects.requireNonNull(instanceId, "instanceId must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("handle")
        public PlanStage handle(@NotNull String handle) {
            this.handle = Objects.requireNonNull(handle, "handle must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("plan")
        public StatusStage plan(@NotNull BillingInfoPlan plan) {
            this.plan = Objects.requireNonNull(plan, "plan must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("status")
        public CancelAtPeriodEndStage status(@NotNull String status) {
            this.status = Objects.requireNonNull(status, "status must not be null");
            return this;
        }

        @java.lang.Override
        @JsonSetter("cancelAtPeriodEnd")
        public _FinalStage cancelAtPeriodEnd(boolean cancelAtPeriodEnd) {
            this.cancelAtPeriodEnd = cancelAtPeriodEnd;
            return this;
        }

        @java.lang.Override
        public _FinalStage currentPeriodEnd(OffsetDateTime currentPeriodEnd) {
            this.currentPeriodEnd = Optional.ofNullable(currentPeriodEnd);
            return this;
        }

        @java.lang.Override
        @JsonSetter(value = "currentPeriodEnd", nulls = Nulls.SKIP)
        public _FinalStage currentPeriodEnd(Optional<OffsetDateTime> currentPeriodEnd) {
            this.currentPeriodEnd = currentPeriodEnd;
            return this;
        }

        @java.lang.Override
        public BillingInfo build() {
            return new BillingInfo(
                    instanceId, handle, plan, status, currentPeriodEnd, cancelAtPeriodEnd, additionalProperties);
        }
    }
}
